document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".lbox-open"),t=document.querySelector(".lbox"),n=document.querySelector(".lbox__close"),o=document.querySelectorAll("body");var i=document.querySelector("body"),s=window.innerWidth-document.querySelector("body").offsetWidth+"px";for(let n=0;n<e.length;n++)e[n].onclick=function(){t.classList.add("show"),i.classList.add("lock");for(let e=0;e<o.length;e++)o[e].style.paddingRight=s};t.addEventListener("click",(e=>{e.target===e.currentTarget&&(t.classList.remove("show"),setTimeout((function(){i.classList.remove("lock");for(let e=0;e<o.length;e++)o[e].style.paddingRight=null}),500))})),n.addEventListener("click",(e=>{e.target===e.currentTarget&&(t.classList.remove("show"),setTimeout((function(){i.classList.remove("lock");for(let e=0;e<o.length;e++)o[e].style.paddingRight=null}),500))})),$('[type="tel"]').inputmask("+7 (999) 999-99-99",{greedy:!0,digits:9}),$('[type="text"]').on("input",(function(){this.value=this.value.replace(/[^a-zа-яё\s]/gi,"")})),$("form button").attr("disabled","disabled"),$('[type="tel"]').on("click input blur focus change keyup keydown",(function(){$(this).val().length>1&&!$(this).val().includes("_")?$("form button").removeAttr("disabled"):($("form button").attr("disabled","disabled"),$("#phone_attention").addClass("show"),setTimeout((function(){$("#phone_attention").removeClass("show")}),1e3))}));let a=$("#callback"),r=$("#consultation");$("#form").submit((function(){var e=$(this);return $.ajax({type:"POST",url:"mail.php",data:e.serialize()}).done((function(){a.removeClass("show"),r.addClass("show"),setTimeout((function(){$("body").removeClass("lock").css("padding-right",0),r.removeClass("show")}),3500),e.trigger("reset")})),!1}));new Swiper(".swiper-container",{loop:!1,speed:1700,pagination:{el:".swiper-pagination",clickable:!0}});!function(e){setTimeout((function(){e.update()}),500)}(new Swiper(".swiper-right",{speed:1400,lazy:!0,slidesPerView:1,loop:!1,preloadImages:!0,navigation:{nextEl:".slider-button-next",prevEl:".slider-button-prev"},breakpoints:{600:{loop:!0}}}));const l=document.querySelectorAll("[data-goto]");function c(e){let t=e.target;if(t.dataset.goto||(t=t.closest("[data-goto]"),console.log(t)),t.dataset.goto&&document.querySelector(t.dataset.goto)){menuDisplay.classList.remove("_active"),menuBurger.classList.remove("_active"),document.body.classList.remove("_lock");const n=document.querySelector(t.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:n,behavior:"smooth"}),e.preventDefault()}}l.length>0&&l.forEach((e=>{e.addEventListener("click",c)}));const d=document.querySelectorAll(".slider__item");function u(e){const t=e.target,n=document.querySelector(".hystmodal__window");n.children[1]&&n.removeChild(n.children[1]),n.appendChild(t.cloneNode(!0)),e.preventDefault()}d.length>0&&d.forEach((e=>{e.addEventListener("click",u)})),function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,"a",(function(){return r}));var s,a,r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=o({backscroll:!0,linkAttributeName:"data-hystmodal",closeOnOverlay:!0,closeOnEsc:!0,closeOnButton:!0,waitTransitions:!1,catchFocus:!0,fixedSelectors:"*[data-hystfixed]",beforeOpen:function(){},afterClose:function(){}},t),this.config.linkAttributeName&&this.init(),this._closeAfterTransition=this._closeAfterTransition.bind(this)}var t,n;return t=e,(n=[{key:"init",value:function(){this.isOpened=!1,this.openedWindow=!1,this.starter=!1,this._nextWindows=!1,this._scrollPosition=0,this._reopenTrigger=!1,this._overlayChecker=!1,this._isMoved=!1,this._focusElements=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this._modalBlock=!1,e._shadow||(e._shadow=document.createElement("button"),e._shadow.classList.add("hystmodal__shadow"),document.body.appendChild(e._shadow)),this.eventsFeeler()}},{key:"eventsFeeler",value:function(){document.addEventListener("click",function(e){var t=e.target.closest("["+this.config.linkAttributeName+"]");if(!this._isMoved&&t){e.preventDefault(),this.starter=t;var n=this.starter.getAttribute(this.config.linkAttributeName);return this._nextWindows=document.querySelector(n),void this.open()}this.config.closeOnButton&&e.target.closest("[data-hystclose]")&&this.close()}.bind(this)),this.config.closeOnOverlay&&(document.addEventListener("mousedown",function(e){!this._isMoved&&e.target instanceof Element&&!e.target.classList.contains("hystmodal__wrap")||(this._overlayChecker=!0)}.bind(this)),document.addEventListener("mouseup",function(e){if(!this._isMoved&&e.target instanceof Element&&this._overlayChecker&&e.target.classList.contains("hystmodal__wrap"))return e.preventDefault(),this._overlayChecker,void this.close();this._overlayChecker=!1}.bind(this))),window.addEventListener("keydown",function(e){if(!this._isMoved&&this.config.closeOnEsc&&27==e.which&&this.isOpened)return e.preventDefault(),void this.close();!this._isMoved&&this.config.catchFocus&&9==e.which&&this.isOpened&&this.focusCatcher(e)}.bind(this))}},{key:"open",value:function(t){if(t&&(this._nextWindows="string"==typeof t?document.querySelector(t):t),this._nextWindows){if(this.isOpened)return this._reopenTrigger=!0,void this.close();this.openedWindow=this._nextWindows,this._modalBlock=this.openedWindow.querySelector(".hystmodal__window"),this.config.beforeOpen(this),this._bodyScrollControl(),e._shadow.classList.add("hystmodal__shadow--show"),this.openedWindow.classList.add("hystmodal--active"),this.openedWindow.setAttribute("aria-hidden","false"),this.config.catchFocus&&this.focusContol(),this.isOpened=!0}else console.log("Warinig: hustModal selector is not found")}},{key:"close",value:function(){this.isOpened&&(this.config.waitTransitions?(this.openedWindow.classList.add("hystmodal--moved"),this._isMoved=!0,this.openedWindow.addEventListener("transitionend",this._closeAfterTransition),this.openedWindow.classList.remove("hystmodal--active")):(this.openedWindow.classList.remove("hystmodal--active"),this._closeAfterTransition()))}},{key:"_closeAfterTransition",value:function(){this.openedWindow.classList.remove("hystmodal--moved"),this.openedWindow.removeEventListener("transitionend",this._closeAfterTransition),this._isMoved=!1,e._shadow.classList.remove("hystmodal__shadow--show"),this.openedWindow.setAttribute("aria-hidden","true"),this.config.catchFocus&&this.focusContol(),this._bodyScrollControl(),this.isOpened=!1,this.openedWindow.scrollTop=0,this.config.afterClose(this),this._reopenTrigger&&(this._reopenTrigger=!1,this.open())}},{key:"focusContol",value:function(){var e=this.openedWindow.querySelectorAll(this._focusElements);this.isOpened&&this.starter?this.starter.focus():e.length&&e[0].focus()}},{key:"focusCatcher",value:function(e){var t=this.openedWindow.querySelectorAll(this._focusElements),n=Array.prototype.slice.call(t);if(this.openedWindow.contains(document.activeElement)){var o=n.indexOf(document.activeElement);console.log(o),e.shiftKey&&0===o&&(n[n.length-1].focus(),e.preventDefault()),e.shiftKey||o!==n.length-1||(n[0].focus(),e.preventDefault())}else n[0].focus(),e.preventDefault()}},{key:"_bodyScrollControl",value:function(){if(this.config.backscroll){var e=Array.prototype.slice.call(document.querySelectorAll(this.config.fixedSelectors)),t=document.documentElement;if(!0===this.isOpened)return t.classList.remove("hystmodal__opened"),t.style.marginRight="",e.map((function(e){e.style.marginRight=""})),window.scrollTo(0,this._scrollPosition),void(t.style.top="");this._scrollPosition=window.pageYOffset;var n=window.innerWidth-t.clientWidth;t.style.top=-this._scrollPosition+"px",n&&(t.style.marginRight=n+"px",e.map((function(e){e.style.marginRight=parseInt(getComputedStyle(e).marginRight)+n+"px"}))),t.classList.add("hystmodal__opened")}}}])&&i(t.prototype,n),e}();(a="_shadow")in(s=r)?Object.defineProperty(s,a,{value:false,enumerable:!0,configurable:!0,writable:!0}):s[a]=false},function(e,t,n){"use strict";n.r(t),function(e){var t=n(0);n(3),n(4),e.HystModal=t.a}.call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},function(e,t,n){}]);new HystModal({linkAttributeName:"data-hystmodal"})}))
/*! lazysizes - v5.3.2 */,function(e){var t=function(e,t,n){"use strict";var o,i;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},n)t in i||(i[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var s=t.documentElement,a=e.HTMLPictureElement,r="addEventListener",l="getAttribute",c=e[r].bind(e),d=e.setTimeout,u=e.requestAnimationFrame||d,f=e.requestIdleCallback,h=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],m={},y=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[l]("class")||"")&&m[t]},g=function(e,t){v(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var n;(n=v(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},w=function(e,t,n){var o=n?r:"removeEventListener";n&&w(e,t),p.forEach((function(n){e[o](n,t)}))},_=function(e,n,i,s,a){var r=t.createEvent("Event");return i||(i={}),i.instance=o,r.initEvent(n,!s,!a),r.detail=i,e.dispatchEvent(r),r},C=function(t,n){var o;!a&&(o=e.picturefill||i.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),o({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},z=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},A=function(){var e,n,o=[],i=[],s=o,a=function(){var t=s;for(s=o.length?i:o,e=!0,n=!1;t.length;)t.shift()();e=!1},r=function(o,i){e&&!i?o.apply(this,arguments):(s.push(o),n||(n=!0,(t.hidden?d:u)(a)))};return r._lsFlush=a,r}(),k=function(e,t){return t?function(){A(e)}:function(){var t=this,n=arguments;A((function(){e.apply(t,n)}))}},L=function(e){var t,o=0,s=i.throttleDelay,a=i.ricTimeout,r=function(){t=!1,o=n.now(),e()},l=f&&a>49?function(){f(r,{timeout:a}),a!==i.ricTimeout&&(a=i.ricTimeout)}:k((function(){d(r)}),!0);return function(e){var i;(e=!0===e)&&(a=33),t||(t=!0,(i=s-(n.now()-o))<0&&(i=0),e||i<9?l():d(l,i))}},S=function(e){var t,o,i=function(){t=null,e()},s=function(){var e=n.now()-o;e<99?d(s,99-e):(f||i)(i)};return function(){o=n.now(),t||(t=d(s,99))}},O=function(){var a,f,p,m,E,O,W,T,M,N,q,$,P=/^img$/i,R=/^iframe$/i,D="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),j=0,B=0,F=-1,H=function(e){B--,(!e||B<0||!e.target)&&(B=0)},I=function(e){return null==$&&($="hidden"==z(t.body,"visibility")),$||!("hidden"==z(e.parentNode,"visibility")&&"hidden"==z(e,"visibility"))},K=function(e,n){var o,i=e,a=I(e);for(T-=n,q+=n,M-=n,N+=n;a&&(i=i.offsetParent)&&i!=t.body&&i!=s;)(a=(z(i,"opacity")||1)>0)&&"visible"!=z(i,"overflow")&&(o=i.getBoundingClientRect(),a=N>o.left&&M<o.right&&q>o.top-1&&T<o.bottom+1);return a},U=function(){var e,n,r,c,d,u,h,p,y,v,g,b,w=o.elements;if((m=i.loadMode)&&B<8&&(e=w.length)){for(n=0,F++;n<e;n++)if(w[n]&&!w[n]._lazyRace)if(!D||o.prematureUnveil&&o.prematureUnveil(w[n]))Z(w[n]);else if((p=w[n][l]("data-expand"))&&(u=1*p)||(u=j),v||(v=!i.expand||i.expand<1?s.clientHeight>500&&s.clientWidth>500?500:370:i.expand,o._defEx=v,g=v*i.expFactor,b=i.hFac,$=null,j<g&&B<1&&F>2&&m>2&&!t.hidden?(j=g,F=0):j=m>1&&F>1&&B<6?v:0),y!==u&&(O=innerWidth+u*b,W=innerHeight+u,h=-1*u,y=u),r=w[n].getBoundingClientRect(),(q=r.bottom)>=h&&(T=r.top)<=W&&(N=r.right)>=h*b&&(M=r.left)<=O&&(q||N||M||T)&&(i.loadHidden||I(w[n]))&&(f&&B<3&&!p&&(m<3||F<4)||K(w[n],u))){if(Z(w[n]),d=!0,B>9)break}else!d&&f&&!c&&B<4&&F<4&&m>2&&(a[0]||i.preloadAfterLoad)&&(a[0]||!p&&(q||N||M||T||"auto"!=w[n][l](i.sizesAttr)))&&(c=a[0]||w[n]);c&&!d&&Z(c)}},Y=L(U),V=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(H(e),g(t,i.loadedClass),b(t,i.loadingClass),w(t,J),_(t,"lazyloaded"))},G=k(V),J=function(e){G({target:e.target})},Q=function(e){var t,n=e[l](i.srcsetAttr);(t=i.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},X=k((function(e,t,n,o,s){var a,r,c,u,f,m;(f=_(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(n?g(e,i.autosizesClass):e.setAttribute("sizes",o)),r=e[l](i.srcsetAttr),a=e[l](i.srcAttr),s&&(u=(c=e.parentNode)&&h.test(c.nodeName||"")),m=t.firesLoad||"src"in e&&(r||a||u),f={target:e},g(e,i.loadingClass),m&&(clearTimeout(p),p=d(H,2500),w(e,J,!0)),u&&y.call(c.getElementsByTagName("source"),Q),r?e.setAttribute("srcset",r):a&&!u&&(R.test(e.nodeName)?function(e,t){var n=e.getAttribute("data-load-mode")||i.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)}(e,a):e.src=a),s&&(r||u)&&C(e,{src:a})),e._lazyRace&&delete e._lazyRace,b(e,i.lazyClass),A((function(){var t=e.complete&&e.naturalWidth>1;m&&!t||(t&&g(e,i.fastLoadedClass),V(f),e._lazyCache=!0,d((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&B--}),!0)})),Z=function(e){if(!e._lazyRace){var t,n=P.test(e.nodeName),o=n&&(e[l](i.sizesAttr)||e[l]("sizes")),s="auto"==o;(!s&&f||!n||!e[l]("src")&&!e.srcset||e.complete||v(e,i.errorClass)||!v(e,i.lazyClass))&&(t=_(e,"lazyunveilread").detail,s&&x.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,B++,X(e,t,s,o,n))}},ee=S((function(){i.loadMode=3,Y()})),te=function(){3==i.loadMode&&(i.loadMode=2),ee()},ne=function(){f||(n.now()-E<999?d(ne,999):(f=!0,i.loadMode=3,Y(),c("scroll",te,!0)))};return{_:function(){E=n.now(),o.elements=t.getElementsByClassName(i.lazyClass),a=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),c("scroll",Y,!0),c("resize",Y,!0),c("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+i.loadingClass);n.length&&n.forEach&&u((function(){n.forEach((function(e){e.complete&&Z(e)}))}))}})),e.MutationObserver?new MutationObserver(Y).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s[r]("DOMNodeInserted",Y,!0),s[r]("DOMAttrModified",Y,!0),setInterval(Y,999)),c("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[r](e,Y,!0)})),/d$|^c/.test(t.readyState)?ne():(c("load",ne),t[r]("DOMContentLoaded",Y),d(ne,2e4)),o.elements.length?(U(),A._lsFlush()):Y()},checkElems:Y,unveil:Z,_aLSL:te}}(),x=function(){var e,n=k((function(e,t,n,o){var i,s,a;if(e._lazysizesWidth=o,o+="px",e.setAttribute("sizes",o),h.test(t.nodeName||""))for(s=0,a=(i=t.getElementsByTagName("source")).length;s<a;s++)i[s].setAttribute("sizes",o);n.detail.dataAttr||C(e,n.detail)})),o=function(e,t,o){var i,s=e.parentNode;s&&(o=E(e,s,o),(i=_(e,"lazybeforesizes",{width:o,dataAttr:!!t})).defaultPrevented||(o=i.detail.width)&&o!==e._lazysizesWidth&&n(e,s,i,o))},s=S((function(){var t,n=e.length;if(n)for(t=0;t<n;t++)o(e[t])}));return{_:function(){e=t.getElementsByClassName(i.autosizesClass),c("resize",s)},checkElems:s,updateElem:o}}(),W=function(){!W.i&&t.getElementsByClassName&&(W.i=!0,x._(),O._())};return d((function(){i.init&&W()})),o={cfg:i,autoSizer:x,loader:O,init:W,uP:C,aC:g,rC:b,hC:v,fire:_,gW:E,rAF:A}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});